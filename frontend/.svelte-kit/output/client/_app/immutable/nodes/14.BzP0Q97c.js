import{s as G,a as A,h as H,d as _,c as C,i as g,b as R,o as j,m as q,e as b,f as k,k as w,j as T,l as m,t as v,v as h,n as z,w as B}from"../chunks/scheduler.DrQRk8ea.js";import{S as F,i as M,c as y,a as E,m as I,t as d,b as $,d as D,g as N,e as O}from"../chunks/index.CcdvbsEI.js";import{g as U,a as J}from"../chunks/spread.CgU5AtxT.js";import{v as K,l as L,n as Q,A as X,b as Y,B as Z}from"../chunks/Issue.bBFUSQy9.js";import{P as x,a as ee,T as re}from"../chunks/ProposalDetails.BmAjLX6X.js";import{C as W}from"../chunks/Container.CWcU-xxO.js";import{R as te}from"../chunks/RepoPageWrapper.D4_O-6aW.js";import{A as se}from"../chunks/AlertError.Bf6rdsHm.js";const oe=({params:p})=>({repo_naddr:decodeURIComponent(p.repo_naddr),proposal_nip19:p.proposal_nip19}),ye=Object.freeze(Object.defineProperty({__proto__:null,load:oe},Symbol.toStringTag,{value:"Module"}));function ae(p){let e,s,r,o;const t=[p[1].summary];let l={};for(let n=0;n<t.length;n+=1)l=q(l,t[n]);return e=new x({props:l}),r=new W({props:{$$slots:{default:[ne]},$$scope:{ctx:p}}}),{c(){y(e.$$.fragment),s=A(),y(r.$$.fragment)},l(n){E(e.$$.fragment,n),s=C(n),E(r.$$.fragment,n)},m(n,a){I(e,n,a),g(n,s,a),I(r,n,a),o=!0},p(n,a){const i=a&2?U(t,[J(n[1].summary)]):{};e.$set(i);const f={};a&2114&&(f.$$scope={dirty:a,ctx:n}),r.$set(f)},i(n){o||(d(e.$$.fragment,n),d(r.$$.fragment,n),o=!0)},o(n){$(e.$$.fragment,n),$(r.$$.fragment,n),o=!1},d(n){n&&_(s),D(e,n),D(r,n)}}}function le(p){let e,s;return e=new W({props:{$$slots:{default:[_e]},$$scope:{ctx:p}}}),{c(){y(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,o){I(e,r,o),s=!0},p(r,o){const t={};o&2053&&(t.$$scope={dirty:o,ctx:r}),e.$set(t)},i(r){s||(d(e.$$.fragment,r),s=!0)},o(r){$(e.$$.fragment,r),s=!1},d(r){D(e,r)}}}function S(p){let e,s;return e=new re({props:{type:"proposal",event:p[1].proposal_event,replies:p[6]}}),{c(){y(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,o){I(e,r,o),s=!0},p(r,o){const t={};o&2&&(t.event=r[1].proposal_event),o&64&&(t.replies=r[6]),e.$set(t)},i(r){s||(d(e.$$.fragment,r),s=!0)},o(r){$(e.$$.fragment,r),s=!1},d(r){D(e,r)}}}function ne(p){let e,s,r,o,t,l,n,a=p[1].proposal_event&&S(p);return l=new ee({props:{type:"proposal",summary:p[1].summary,labels:p[1].labels,loading:p[1].loading}}),{c(){e=b("div"),s=b("div"),r=b("div"),a&&a.c(),o=A(),t=b("div"),y(l.$$.fragment),this.h()},l(i){e=k(i,"DIV",{class:!0});var f=w(e);s=k(f,"DIV",{class:!0});var c=w(s);r=k(c,"DIV",{class:!0});var P=w(r);a&&a.l(P),P.forEach(_),c.forEach(_),o=C(f),t=k(f,"DIV",{class:!0});var V=w(t);E(l.$$.fragment,V),V.forEach(_),f.forEach(_),this.h()},h(){T(r,"class","max-w-4xl"),T(s,"class","md:mr-2 lg:w-2/3"),T(t,"class","prose ml-2 hidden w-1/3 lg:flex"),T(e,"class","mx-auto max-w-6xl lg:flex")},m(i,f){g(i,e,f),m(e,s),m(s,r),a&&a.m(r,null),m(e,o),m(e,t),I(l,t,null),n=!0},p(i,f){i[1].proposal_event?a?(a.p(i,f),f&2&&d(a,1)):(a=S(i),a.c(),d(a,1),a.m(r,null)):a&&(N(),$(a,1,1,()=>{a=null}),O());const c={};f&2&&(c.summary=i[1].summary),f&2&&(c.labels=i[1].labels),f&2&&(c.loading=i[1].loading),l.$set(c)},i(i){n||(d(a),d(l.$$.fragment,i),n=!0)},o(i){$(a),$(l.$$.fragment,i),n=!1},d(i){i&&_(e),a&&a.d(),D(l)}}}function pe(p){let e,s,r="",o,t;return{c(){e=b("div"),s=v("Error! cannot find Issue "),o=v(r),t=v("event")},l(l){e=k(l,"DIV",{});var n=w(e);s=h(n,"Error! cannot find Issue "),o=h(n,r),t=h(n,"event"),n.forEach(_)},m(l,n){g(l,e,n),m(e,s),m(e,o),m(e,t)},p:z,d(l){l&&_(e)}}}function ie(p){let e,s,r,o,t,l,n,a;return{c(){e=b("div"),s=v("Error! invalid Issue reference: "),r=v(p[0]),o=A(),t=b("div"),l=v("'"),n=v(p[8]),a=v("'"),this.h()},l(i){e=k(i,"DIV",{});var f=w(e);s=h(f,"Error! invalid Issue reference: "),r=h(f,p[0]),f.forEach(_),o=C(i),t=k(i,"DIV",{class:!0});var c=w(t);l=h(c,"'"),n=h(c,p[8]),a=h(c,"'"),c.forEach(_),this.h()},h(){T(t,"class","break-all")},m(i,f){g(i,e,f),m(e,s),m(e,r),g(i,o,f),g(i,t,f),m(t,l),m(t,n),m(t,a)},p(i,f){f&1&&B(r,i[0])},d(i){i&&(_(e),_(o),_(t))}}}function fe(p){let e;function s(t,l){return t[2]?ie:pe}let r=s(p),o=r(p);return{c(){o.c(),e=j()},l(t){o.l(t),e=j()},m(t,l){o.m(t,l),g(t,e,l)},p(t,l){r===(r=s(t))&&o?o.p(t,l):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){t&&_(e),o.d(t)}}}function _e(p){let e,s;return e=new se({props:{$$slots:{default:[fe]},$$scope:{ctx:p}}}),{c(){y(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,o){I(e,r,o),s=!0},p(r,o){const t={};o&2053&&(t.$$scope={dirty:o,ctx:r}),e.$set(t)},i(r){s||(d(e.$$.fragment,r),s=!0)},o(r){$(e.$$.fragment,r),s=!1},d(r){D(e,r)}}}function ce(p){let e,s,r,o;const t=[le,ae],l=[];function n(a,i){return a[2]||a[4]&&a[3]?0:1}return e=n(p),s=l[e]=t[e](p),{c(){s.c(),r=j()},l(a){s.l(a),r=j()},m(a,i){l[e].m(a,i),g(a,r,i),o=!0},p(a,i){let f=e;e=n(a),e===f?l[e].p(a,i):(N(),$(l[f],1,1,()=>{l[f]=null}),O(),s=l[e],s?s.p(a,i):(s=l[e]=t[e](a),s.c()),d(s,1),s.m(r.parentNode,r))},i(a){o||(d(s),o=!0)},o(a){$(s),o=!1},d(a){a&&_(r),l[e].d(a)}}}function ue(p){let e,s,r,o;return document.title=e="GitWorkshop: "+p[5].name+" - "+p[1].summary.title,r=new te({props:{repo_naddr:p[7],with_side_bar:!1,selected_tab:"proposals",$$slots:{default:[ce]},$$scope:{ctx:p}}}),{c(){s=A(),y(r.$$.fragment)},l(t){H("svelte-1o657h1",document.head).forEach(_),s=C(t),E(r.$$.fragment,t)},m(t,l){g(t,s,l),I(r,t,l),o=!0},p(t,[l]){(!o||l&34)&&e!==(e="GitWorkshop: "+t[5].name+" - "+t[1].summary.title)&&(document.title=e);const n={};l&2143&&(n.$$scope={dirty:l,ctx:t}),r.$set(n)},i(t){o||(d(r.$$.fragment,t),o=!0)},o(t){$(r.$$.fragment,t),o=!1},d(t){t&&_(s),D(r,t)}}}function me(p,e,s){let r,o,t;R(p,X,u=>s(1,r=u)),R(p,Y,u=>s(5,o=u)),R(p,Z,u=>s(6,t=u));let{data:l}=e,n=l.repo_naddr,a="",i=l.proposal_nip19,f="",c=!1,P=!1,V=!1;setTimeout(()=>{s(4,V=!0)},5e3),p.$$set=u=>{"data"in u&&s(9,l=u.data)},p.$$.update=()=>{if(p.$$.dirty&1025){const u=K(i);u?(s(0,f=u),s(2,c=!1),L(a,f)):s(2,c=!0)}p.$$.dirty&2&&s(3,P=!r.summary.loading&&r.summary.created_at===0)};{const u=Q(n);u&&s(10,a=u)}return[f,r,c,P,V,o,t,n,i,l,a]}class Ee extends F{constructor(e){super(),M(this,e,me,ue,G,{data:9})}}export{Ee as component,ye as universal};
