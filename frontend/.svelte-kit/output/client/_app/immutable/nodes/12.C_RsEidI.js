import{s as G,a as C,h as H,d as _,c as R,i as g,b as S,o as T,m as q,e as b,f as k,k as w,j as P,l as m,t as v,v as h,n as z,w as F}from"../chunks/scheduler.DrQRk8ea.js";import{S as M,i as U,c as y,a as I,m as E,t as d,b as $,d as D,g as N,e as O}from"../chunks/index.CcdvbsEI.js";import{g as B,a as J}from"../chunks/spread.CgU5AtxT.js";import{v as K,j as L,n as Q,w as X,b as Y,x as Z}from"../chunks/Issue.bBFUSQy9.js";import{P as x,a as ee,T as te}from"../chunks/ProposalDetails.BmAjLX6X.js";import{C as W}from"../chunks/Container.CWcU-xxO.js";import{R as re}from"../chunks/RepoPageWrapper.D4_O-6aW.js";import{A as se}from"../chunks/AlertError.Bf6rdsHm.js";const ae=({params:i})=>({repo_naddr:decodeURIComponent(i.repo_naddr),issue_nip19:i.issue_nip19}),ye=Object.freeze(Object.defineProperty({__proto__:null,load:ae},Symbol.toStringTag,{value:"Module"}));function le(i){let e,s,t,a;const r=[i[1].summary];let n={};for(let o=0;o<r.length;o+=1)n=q(n,r[o]);return e=new x({props:n}),t=new W({props:{$$slots:{default:[oe]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),s=C(),y(t.$$.fragment)},l(o){I(e.$$.fragment,o),s=R(o),I(t.$$.fragment,o)},m(o,l){E(e,o,l),g(o,s,l),E(t,o,l),a=!0},p(o,l){const u=l&2?B(r,[J(o[1].summary)]):{};e.$set(u);const f={};l&2114&&(f.$$scope={dirty:l,ctx:o}),t.$set(f)},i(o){a||(d(e.$$.fragment,o),d(t.$$.fragment,o),a=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),a=!1},d(o){o&&_(s),D(e,o),D(t,o)}}}function ne(i){let e,s;return e=new W({props:{$$slots:{default:[_e]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,a){E(e,t,a),s=!0},p(t,a){const r={};a&2053&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){s||(d(e.$$.fragment,t),s=!0)},o(t){$(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}function A(i){let e,s;return e=new te({props:{type:"issue",event:i[1].issue_event,replies:i[6]}}),{c(){y(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,a){E(e,t,a),s=!0},p(t,a){const r={};a&2&&(r.event=t[1].issue_event),a&64&&(r.replies=t[6]),e.$set(r)},i(t){s||(d(e.$$.fragment,t),s=!0)},o(t){$(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}function oe(i){let e,s,t,a,r,n,o,l=i[1].issue_event&&A(i);return n=new ee({props:{type:"issue",summary:i[1].summary,labels:i[1].labels,loading:i[1].loading}}),{c(){e=b("div"),s=b("div"),t=b("div"),l&&l.c(),a=C(),r=b("div"),y(n.$$.fragment),this.h()},l(u){e=k(u,"DIV",{class:!0});var f=w(e);s=k(f,"DIV",{class:!0});var c=w(s);t=k(c,"DIV",{class:!0});var V=w(t);l&&l.l(V),V.forEach(_),c.forEach(_),a=R(f),r=k(f,"DIV",{class:!0});var j=w(r);I(n.$$.fragment,j),j.forEach(_),f.forEach(_),this.h()},h(){P(t,"class","max-w-4xl"),P(s,"class","md:mr-2 lg:w-2/3"),P(r,"class","prose ml-2 hidden w-1/3 lg:flex"),P(e,"class","mx-auto max-w-6xl lg:flex")},m(u,f){g(u,e,f),m(e,s),m(s,t),l&&l.m(t,null),m(e,a),m(e,r),E(n,r,null),o=!0},p(u,f){u[1].issue_event?l?(l.p(u,f),f&2&&d(l,1)):(l=A(u),l.c(),d(l,1),l.m(t,null)):l&&(N(),$(l,1,1,()=>{l=null}),O());const c={};f&2&&(c.summary=u[1].summary),f&2&&(c.labels=u[1].labels),f&2&&(c.loading=u[1].loading),n.$set(c)},i(u){o||(d(l),d(n.$$.fragment,u),o=!0)},o(u){$(l),$(n.$$.fragment,u),o=!1},d(u){u&&_(e),l&&l.d(),D(n)}}}function ie(i){let e,s,t="",a,r;return{c(){e=b("div"),s=v("Error! cannot find Issue "),a=v(t),r=v("event")},l(n){e=k(n,"DIV",{});var o=w(e);s=h(o,"Error! cannot find Issue "),a=h(o,t),r=h(o,"event"),o.forEach(_)},m(n,o){g(n,e,o),m(e,s),m(e,a),m(e,r)},p:z,d(n){n&&_(e)}}}function ue(i){let e,s,t,a,r,n,o,l;return{c(){e=b("div"),s=v("Error! invalid Issue reference: "),t=v(i[0]),a=C(),r=b("div"),n=v("'"),o=v(i[8]),l=v("'"),this.h()},l(u){e=k(u,"DIV",{});var f=w(e);s=h(f,"Error! invalid Issue reference: "),t=h(f,i[0]),f.forEach(_),a=R(u),r=k(u,"DIV",{class:!0});var c=w(r);n=h(c,"'"),o=h(c,i[8]),l=h(c,"'"),c.forEach(_),this.h()},h(){P(r,"class","break-all")},m(u,f){g(u,e,f),m(e,s),m(e,t),g(u,a,f),g(u,r,f),m(r,n),m(r,o),m(r,l)},p(u,f){f&1&&F(t,u[0])},d(u){u&&(_(e),_(a),_(r))}}}function fe(i){let e;function s(r,n){return r[2]?ue:ie}let t=s(i),a=t(i);return{c(){a.c(),e=T()},l(r){a.l(r),e=T()},m(r,n){a.m(r,n),g(r,e,n)},p(r,n){t===(t=s(r))&&a?a.p(r,n):(a.d(1),a=t(r),a&&(a.c(),a.m(e.parentNode,e)))},d(r){r&&_(e),a.d(r)}}}function _e(i){let e,s;return e=new se({props:{$$slots:{default:[fe]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,a){E(e,t,a),s=!0},p(t,a){const r={};a&2053&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){s||(d(e.$$.fragment,t),s=!0)},o(t){$(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}function ce(i){let e,s,t,a;const r=[ne,le],n=[];function o(l,u){return l[2]||l[4]&&l[3]?0:1}return e=o(i),s=n[e]=r[e](i),{c(){s.c(),t=T()},l(l){s.l(l),t=T()},m(l,u){n[e].m(l,u),g(l,t,u),a=!0},p(l,u){let f=e;e=o(l),e===f?n[e].p(l,u):(N(),$(n[f],1,1,()=>{n[f]=null}),O(),s=n[e],s?s.p(l,u):(s=n[e]=r[e](l),s.c()),d(s,1),s.m(t.parentNode,t))},i(l){a||(d(s),a=!0)},o(l){$(s),a=!1},d(l){l&&_(t),n[e].d(l)}}}function pe(i){let e,s,t,a;return document.title=e="GitWorkshop: "+i[5].name+" - "+i[1].summary.title,t=new re({props:{repo_naddr:i[7],with_side_bar:!1,selected_tab:"issues",$$slots:{default:[ce]},$$scope:{ctx:i}}}),{c(){s=C(),y(t.$$.fragment)},l(r){H("svelte-1an7jcg",document.head).forEach(_),s=R(r),I(t.$$.fragment,r)},m(r,n){g(r,s,n),E(t,r,n),a=!0},p(r,[n]){(!a||n&34)&&e!==(e="GitWorkshop: "+r[5].name+" - "+r[1].summary.title)&&(document.title=e);const o={};n&2143&&(o.$$scope={dirty:n,ctx:r}),t.$set(o)},i(r){a||(d(t.$$.fragment,r),a=!0)},o(r){$(t.$$.fragment,r),a=!1},d(r){r&&_(s),D(t,r)}}}function me(i,e,s){let t,a,r;S(i,X,p=>s(1,t=p)),S(i,Y,p=>s(5,a=p)),S(i,Z,p=>s(6,r=p));let{data:n}=e,o=n.repo_naddr,l="",u=n.issue_nip19,f="",c=!1,V=!1,j=!1;setTimeout(()=>{s(4,j=!0)},5e3),i.$$set=p=>{"data"in p&&s(9,n=p.data)},i.$$.update=()=>{if(i.$$.dirty&1025){const p=K(u);p?(s(0,f=p),s(2,c=!1),L(l,f)):s(2,c=!0)}i.$$.dirty&2&&s(3,V=!t.summary.loading&&t.summary.created_at===0)};{const p=Q(o);p&&s(10,l=p)}return[f,t,c,V,j,a,r,o,u,n,l]}class Ie extends M{constructor(e){super(),U(this,e,me,pe,G,{data:9})}}export{Ie as component,ye as universal};
